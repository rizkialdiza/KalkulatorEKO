<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form EKO - Perhitungan Nilai</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f6f8;
      margin: 0;
      padding: 20px;
    }
    .container {
      background: white;
      max-width: 400px;
      margin: auto;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
    }
    label {
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin: 5px 0 15px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      background: #007bff;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 6px;
      width: 100%;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
    .result {
      margin-top: 15px;
      padding: 10px;
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
    }
    .kompeten {
      background-color: #c8e6c9;
      color: #2e7d32;
    }
    .need-ofr {
      background-color: #fff3cd;
      color: #856404;
    }
    .need-training {
      background-color: #ffcdd2;
      color: #b71c1c;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>Form EKO</h2>

  <label for="egi">EGI yang diuji</label>
  <select id="egi" onchange="isiTotalSoal()">
    <option value="">-- Pilih EGI --</option>
    <option value="OB - EXCAVATOR KELAS 50 TON ">OB - EXCAVATOR KELAS 50 TON </option>
    <option value="OB - EXCAVATOR KELAS 100 TON ">OB - EXCAVATOR KELAS 100 TON </option>
    <option value="COAL - EXCAVATOR KELAS 50 TON ">COAL - EXCAVATOR KELAS 50 TON </option>
    <option value="SUPPORT - EXCAVATOR KELAS 20 TON ">SUPPORT - EXCAVATOR KELAS 20 TON </option>    
    <option value="OB - DT/OHT ">OB - DT/OHT </option>
    <option value="SUPPORT - WATER TRUCK ">SUPPORT - WATER TRUCK </option>
    <option value="SUPPORT - LUBE TRUCK/FUEL TRUCK ">SUPPORT - LUBE TRUCK/FUEL TRUCK </option>
    <option value="SUPPORT - MOTOR GRADER ">SUPPORT - MOTOR GRADER </option>
    <option value="SUPPORT - DOZER D85ESS ">SUPPORT - DOZER D85ESS </option>
    <option value="SUPPORT - DOZER D375/D10T ">SUPPORT - DOZER D375/D10T </option>
    <option value="SUPPORT - BOMAG ">SUPPORT - BOMAG </option>
  </select>

  <label for="totalSoal">Total Soal</label>
  <input type="number" id="totalSoal" readonly>

  <label for="benar">Total Benar</label>
  <input type="number" id="benar" placeholder="Masukkan jumlah benar">

  <label for="tidakDiuji">Total Tidak Diuji</label>
  <input type="number" id="tidakDiuji" placeholder="Masukkan jumlah tidak diuji">

  <button onclick="hitungNilai()">Hitung Nilai</button>

  <div id="hasil" class="result"></div>
</div>

<script>
// ========================
// ðŸ“˜ DAFTAR TOTAL SOAL EGI
// ========================
// Kamu bisa update nilai di bawah ini jika ada perubahan jumlah soal.
// Format: "Nama EGI": total_soal,
const totalSoalEGI = {
  "OB - EXCAVATOR KELAS 50 TON ": 61,
  "OB - EXCAVATOR KELAS 100 TON ": 61,
  "COAL - EXCAVATOR KELAS 50 TON ": 62,
  "SUPPORT - EXCAVATOR KELAS 20 TON ": 52,
  "OB - DT/OHT ": 72,
  "SUPPORT - WATER TRUCK ": 67,
  "SUPPORT - LUBE TRUCK/FUEL TRUCK ": 58,
  "SUPPORT - MOTOR GRADER ": 66,
  "SUPPORT - DOZER D85ESS ": 57,
  "SUPPORT - DOZER D375/D10T ": 61,
  "SUPPORT - BOMAG ": 51
};

// Saat EGI dipilih â†’ otomatis isi total soal
function isiTotalSoal() {
  const egi = document.getElementById('egi').value;
  const totalInput = document.getElementById('totalSoal');
  totalInput.value = totalSoalEGI[egi] || "";
}

function hitungNilai() {
  const total = parseFloat(document.getElementById('totalSoal').value);
  const benar = parseFloat(document.getElementById('benar').value);
  const tidak = parseFloat(document.getElementById('tidakDiuji').value);
  const egi = document.getElementById('egi').value;

  if (!egi || isNaN(total) || isNaN(benar) || isNaN(tidak)) {
    alert("Harap isi semua kolom dengan benar!");
    return;
  }

  const nilai = (benar / (total - tidak)) * 100;
  const hasil = document.getElementById('hasil');
  let status = "";

   if (nilai >= 80) {
    hasil.className = "result kompeten";
    status = "KOMPETEN";
  }
  else if (nilai < 80 && nilai > 60 ) {
    hasil.className = "result need-ofr";
    status = "NEED OFR";
  } else {
    hasil.className = "result need-training";
    status = "NEED TRAINING";
  }

  hasil.innerHTML = `
    EGI: <b>${egi}</b><br>
    Nilai: <b>${nilai.toFixed(2)}</b><br>
    Status Operator: <b>${status}</b>
  `;
}
</script>

</body>
</html>
